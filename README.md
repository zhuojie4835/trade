# 应价交易系统
### 1.业务介绍

```
应价交易即在委托单报价驱动基础上，取消自动撮合成交功能，全部成交由客户手动点击应价成交。即客户有两种交易方式：
应价交易,直接在买卖报价盘操作“应价”按钮，直接买或卖成交；
挂单交易,通过委托订单交易，系统接收限价买或限价卖挂单后，挂报价盘册上，等待其他交易者直接应价交易成交。

当客户直接应价交易时，同一价格的交易对手方可能是多个，则系统按照接收交易指示的时间做决定，较早提交的委托挂单指示优先成交。

不同投资者不同委托数量，但是同一价格的合并累计显示总数量。

同一价格的委托数量由不同交易者的挂单组成，则应价成交时，按照时间优先的原则成交；若正好某个交易者的限价挂盘部分成交，则剩余未成交部分继续挂单在系统中等待成交。
买方与卖方的委托单送往交易所，一般交易者可参与制定价格；
由所有买卖双方建立市场，报价由交易者的委托单组成；
报价不只是一个卖价及一个买价，还有市场深度资讯（即多个卖价及买价，以及对应的可成交数量）；
交易系统不自动撮合成交，交易者需要手动点击“应价”才能参与买卖交易；
交易系统只接收限价盘，即限价买入挂单和限价卖出挂单。系统可以接受委托买单的价格高于最低买价，同样委托卖单的价格可以低于最高买价。

交易页面价格显示规则：显示离当前价格最近的5口最优价格
挂单买入时，价格越低越有优势
挂单卖出时，价格越高越有优势

```

### 2.技术架构

```
php + redis + mysql + nginx

交易业务属于IO密集型场景，所以数据库的选择以redis为主，mysql为辅，对于所需的报表数据，实时同步到mysql，而且有的数据类型比较灵活，用mysql不适合，比如某个产品挂单记录的价格集合，使用redis的集合(set)更加方便易理解，用户的信息使用哈希(hash)存储。
```

### 3.附录

```
项目地址：http://trade.vw87china.com/index.php?s=/index/index.html
```
